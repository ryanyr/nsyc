{"version":3,"sources":["sample.js"],"names":["cc","Class","extends","Component","editor","requireComponent","dragonBones","ArmatureDisplay","properties","btn1","type","Node","default","btn2","_armature","_armatureDisplay","onLoad","getComponent","armature","log","getSlot","on","EventType","TOUCH_START","img","buildArmature","childArmature","WorldClock","clock","add","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,YAAQ;AACJC,0BAAkBC,YAAYC;AAD1B,KAHH;;AAOLC,gBAAY;AACRC,cAAK;AACDC,kBAAKV,GAAGW,IADP;AAEDC,qBAAQ;AAFP,SADG;;AAMRC,cAAK;AACDH,kBAAKV,GAAGW,IADP;AAEDC,qBAAQ;AAFP,SANG;AAURE,mBAAY,IAVJ;AAWRC,0BAAmB;AAXX,KAPP;;AAqBL;;AAEAC,UAvBK,oBAuBK;AAAA;;AACN,aAAKD,gBAAL,GAAwB,KAAKE,YAAL,CAAkBX,YAAYC,eAA9B,CAAxB;AACA,aAAKO,SAAL,GAAiB,KAAKC,gBAAL,CAAsBG,QAAtB,EAAjB;AACAlB,WAAGmB,GAAH,CAAO,KAAKL,SAAL,CAAeM,OAAf,CAAuB,MAAvB,CAAP;;AAGA,aAAKX,IAAL,CAAUY,EAAV,CAAarB,GAAGW,IAAH,CAAQW,SAAR,CAAkBC,WAA/B,EAA4C,iBAAS;AAC7C;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA,gBAAIC,MAAM,MAAKT,gBAAL,CAAsBU,aAAtB,CAAoC,KAApC,CAAV;AACA;AACA,kBAAKX,SAAL,CAAeM,OAAf,CAAuB,MAAvB,EAA+BM,aAA/B,GAA+CF,GAA/C;AACAxB,eAAGmB,GAAH,CAAO,MAAKL,SAAL,CAAeM,OAAf,CAAuB,MAAvB,CAAP;AACA;;AAEA;AACH,SAnBL,EAmBO,IAnBP;;AAqBA,aAAKP,IAAL,CAAUQ,EAAV,CAAarB,GAAGW,IAAH,CAAQW,SAAR,CAAkBC,WAA/B,EAA4C,iBAAS;;AAEjD,gBAAIC,MAAM,MAAKT,gBAAL,CAAsBU,aAAtB,CAAoC,KAApC,CAAV;AACA;AACA,kBAAKX,SAAL,CAAeM,OAAf,CAAuB,MAAvB,EAA+BM,aAA/B,GAA+CF,GAA/C;AACAxB,eAAGmB,GAAH,CAAO,MAAKL,SAAL,CAAeM,OAAf,CAAuB,MAAvB,CAAP;AACA;;AAEA;AACH,SATD,EASG,IATH;;AAWId,oBAAYqB,UAAZ,CAAuBC,KAAvB,CAA6BC,GAA7B,CAAiC,KAAKf,SAAtC;AACP,KA9DI;AAgELgB,SAhEK,mBAgEI,CAER;AAlEI;;AAoEL;AApEJ","file":"sample.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    editor: {\r\n        requireComponent: dragonBones.ArmatureDisplay\r\n    },\r\n\r\n    properties: {\r\n        btn1:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n\r\n        btn2:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        _armature : null,\r\n        _armatureDisplay : null\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this._armatureDisplay = this.getComponent(dragonBones.ArmatureDisplay);\r\n        this._armature = this._armatureDisplay.armature();\r\n        cc.log(this._armature.getSlot('body'));\r\n\r\n\r\n        this.btn1.on(cc.Node.EventType.TOUCH_START, event => {\r\n                // cc.log(this._armature);\r\n\r\n                //方法一 替换slot图片利用静态图片资源，cocos runtime暂不支持\r\n                /* var image = cc.url.raw('resources/1.jpg');\r\n                var texture = cc.textureCache.addImage(image);\r\n                // var a = this._armature.getSlot('rightShoulder');          \r\n                this._armature.getSlot('rightShoulder').setAttachment(texture); */\r\n\r\n                //方法二 整体替换slot\r\n                // var armatures = this._armatureDisplay.getArmatureNames();\r\n                // cc.log(armatures);\r\n                var img = this._armatureDisplay.buildArmature('Ar2');\r\n                // this._armature.getSlot('chest').childArmature = img;\r\n                this._armature.getSlot('body').childArmature = img;\r\n                cc.log(this._armature.getSlot('body'));\r\n                // this._weaponL.addEventListener(dragonBones.EventObject.FRAME_EVENT, this._frameEventHandler, this);\r\n\r\n                // cc.log(a);\r\n            }, this);\r\n\r\n        this.btn2.on(cc.Node.EventType.TOUCH_START, event => {\r\n\r\n            var img = this._armatureDisplay.buildArmature('Ar3');\r\n            // this._armature.getSlot('chest').childArmature = img;\r\n            this._armature.getSlot('body').childArmature = img;\r\n            cc.log(this._armature.getSlot('body'));\r\n            // this._weaponL.addEventListener(dragonBones.EventObject.FRAME_EVENT, this._frameEventHandler, this);\r\n\r\n            // cc.log(a);\r\n        }, this);\r\n\r\n            dragonBones.WorldClock.clock.add(this._armature);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}